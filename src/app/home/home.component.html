<section class="p-4">
    <h1>Dynamic Form</h1>
    <form [formGroup]="registerForm" >
        <div *ngFor="let field of fields" class="mb-2">
            <label>{{field.label}}</label>
            <input [type]="field.type" [formControlName]="field.fieldName"/>
    
            <div *ngIf="registerForm.controls[field.fieldName].invalid && (registerForm.controls[field.fieldName].dirty || registerForm.controls[field.fieldName].touched)"
             class="alert">
            <div *ngIf="registerForm.controls[field.fieldName].errors?.required">
                * {{field.fieldName}}  is required .
            </div>
                </div>

        </div>
    
        <button class="btn btn-primary" (click)="handleSubmitForm()" [disabled]="!registerForm.valid">submit</button>
    
    </form>
    
</section>





<section class="p-4">
    <table class="table "  *ngIf="registerUserInfo.length">
        <thead>
          <tr>
            <th scope="col">NO</th>
            <th scope="col">firstName</th>
            <th scope="col">lastName</th>
            <th scope="col">address</th>
            <th scope="col">age</th>
            <th scope="col">birthDay</th>
            <th scope="col">operation</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of registerUserInfo;let i=index">
            <th scope="row">{{i+1}}</th>
            <td>
                <input type="text" [(ngModel)]="item.firstname" [disabled]="!item.editUserInfo">
            </td>
            <td>
                <input type="text" [(ngModel)]="item.lastname"  [disabled]="!item.editUserInfo">
            </td>
            <td>
                <input type="text" [(ngModel)]="item.address"  [disabled]="!item.editUserInfo" >
            </td>
            <td>
                <input type="text" [(ngModel)]="item.age"  [disabled]="!item.editUserInfo">
            </td>
            <td>
                <input type="date" [(ngModel)]="item.birthDay"  [disabled]="!item.editUserInfo">
            </td>
            <td>
                <button class="btn btn-danger" *ngIf="item.accessLevelType=='admin' "   (click)="handleDeleteUserInfo(item)">delete</button>
                <button class="btn btn-secondary"  *ngIf="(item.accessLevelType=='admin')  "  (click)="handleEditUserInfo(item)">edit</button>
                <button class="btn btn-success"  *ngIf="(item.accessLevelType=='admin') && item.editUserInfo"  (click)="handleNewUserInfo(item)" >New</button>
            </td>
          </tr>
      
        </tbody>
      </table>
</section>

